#Maintainer: Xyne <ac xunilhcra enyx, backwards>
pkgname=pm2ml
pkgver=2013
pkgrel=1
pkgdesc='Generate metalinks for downloading Pacman packages and databases.'
arch=(any)
license=(GPL)
url="http://xyne.archlinux.ca/projects/pm2ml"
depends=(python3 pyalpm)
optdepends=('aria2: ppl script support.' 'reflector: Reflector support' 'python3-aur: AUR support')
backup=(etc/ppl.conf)
source=(
  http://xyne.archlinux.ca/projects/pm2ml/src/pm2ml-2013.tar.xz
  http://xyne.archlinux.ca/projects/pm2ml/src/pm2ml-2013.tar.xz.sig
)
sha512sums=(
  14c0879e0bab6db3de75d19326a5465005e8873811a0f6e8e22b7a3c62a064851be9025443ca141ce41f5da818d0f6bb0d7b7f517835439fbc56431911b8f61c
  be19e42fdcde258e0ea2f1472c2102952b49f2ad9ce8b9fd824a8416c48460281de214ad8bc2617bdc2d5f494e9a11892a3fe3867313ff3985a44507d06fae50
)
md5sums=(
  9e855fb22a6201c57a9025797bbaafa8
  9e4774e3d86338d154b00dbadd0f85ff
)

package ()
{
  cd "$srcdir/$pkgname-$pkgver"
  python3 setup.py install --root="$pkgdir"/ --optimize=1
  install -D -m755 "$pkgname" "$pkgdir/usr/bin/$pkgname"
  for foo_ in ppl pplsyu ppls; do
    install -D -m755 "$foo_" "$pkgdir/usr/bin/$foo_"
  done
  install -D -m644 "ppl.conf" "$pkgdir/etc/ppl.conf"
}

# vim: set ts=2 sw=2 et: